# 第1章 UNIX系统概述

# 1.2 什么是系统编程

## 1.2.3 操作系统的职责

操 作 系 统 也 是 程 序 ， 与 普 通 程 序 一 样 ，也 运 行 在 内 存 中 , 同 时 它 又 是 一 个 特 殊 的 程 序 ，它 能把普通程序与其他程序或设备连接起来。

## 1.2.4 为程序提供服务

操作系统是**内核**，应用程序需要访问硬件，必须通过内核。

编写普通程序时可以认为，程序是直接连 到键盘、显示器、磁盘等设备的，但在进行系统编程时，必须对系统的结构和工作方式有更深 的了解，要知道内核提供哪些服务( 系统调用)，如何使用它们，系统有哪些资源和设备，不同 的资源和设备该如何操作。

# 1.3 理解系统编程

内核提供服务以便系统程序可以直接访问系统资源, 那么有哪些系统资源和服务呢

## 1.3.1 系统资源

也就是内核提供的服务

- 处理器
- 输入输出
- 进程管理
- 内存
- 设备(Device)
- 计时器
- 进程间通讯（Interprocess Communication)
- 网络

# 1.4 从用户角度来理解UNIX

## 1.4.2 登录-运行程序-注销

在登录过程中，当用户名和密码通过验证后，系统会启动一个叫shell 的进程，然后把用 户交给这个进程，由这个进程处理用户的请求。每个用户都有属于自己的shell 进程。

## 1.4.3 目录操作

在Unix 系统中，文件和目录被组织成树状结枸，Unix 提供相应的命令来对目录进行 操作。

### 目录树

![Untitled](%E7%AC%AC1%E7%AB%A0%20UNIX%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0%209cf5887642f74ea39d29caa1b5a893b3/Untitled.png)

### 目录操作命令

- `ls`
- `cd`
- `pwd`
- `mkdir rmdir`

### 目录操作命令的原理

## 1.4.4 文件操作

### 文件操作的命令

- `cat less more pg`
- `cp`
- `rm`
- `mv`
- `lpr.lp` 打印文件

### 文件许可权限

每个文件都有三组许可权限

- rwx：
- uers / group / other

与了组许可权限相对应，用户也被分为了组:user，文件所有者;sroup, 与文件所有者同 组的用户;other ，其他用户。每组的用户都可以有 了种权限:读权限、写权限和执行权限。 这 样 针 对 不 同 用 户 一共 是 9 个 权 限 , 这 些 权 限 可 以 分 别 设 定 ， 如 可 以 指 定 其 他 用 户 只 能 修 改 文件而不能读文件，文件所有者甚至可以取消自己读自己文件的权限。

# 1.5 从系统的角度看UNIX

## 1.5.3 bc UNIX下的计算器

读了be 的联机帮助就会知道,be 是dc的预处理器，它将用户输人的表达式转换成逆波 兰表达式,然后通过一个称为管道(pipe)的通信程序交给de,如图1. 12所示。

![Untitled](%E7%AC%AC1%E7%AB%A0%20UNIX%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0%209cf5887642f74ea39d29caa1b5a893b3/Untitled%201.png)

与 网 络 桥 牌 类 似 ，计 算 器 也 是 由 不 同 的 程 序 互 相 协 作 构 成 一 个 完 整 系 统 的 ，每 个 程 序 有 各自的功能，互相独立、相互协作。Unix 系统编程在很多场合下，就是要解决好建立这些独 立程序之间的连接和协作方式的问题

## 1.5.4 从bc/dc到Web

从架构的角度来看，万维网( Worl d Wide Web ) 与bc/ de 是十分类似的。通过刚才的学 习可以知道bc 负责用户界面, de 负责后台运算，在万维网中, 浏览器负责用户界面，在后面 负责提供网页的是Web服务器

# 1.6 动手实践

more的三种用法

- `more filename`
- `command | more`
- `more < filename`

编写大致完成