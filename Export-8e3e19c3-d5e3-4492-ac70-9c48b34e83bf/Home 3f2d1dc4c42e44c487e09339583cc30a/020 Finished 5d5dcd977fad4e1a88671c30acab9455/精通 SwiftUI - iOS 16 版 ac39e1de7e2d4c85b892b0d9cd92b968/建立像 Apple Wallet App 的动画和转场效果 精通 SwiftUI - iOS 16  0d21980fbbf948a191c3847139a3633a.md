# å»ºç«‹åƒ Apple Wallet App çš„åŠ¨ç”»å’Œè½¬åœºæ•ˆæœ | ç²¾é€š SwiftUI - iOS 16 ç‰ˆ

ä½ ä½¿ç”¨è¿‡ Apple ç”µå­é’±åŒ… App å—ï¼Ÿæˆ‘ç›¸ä¿¡åº”è¯¥æœ‰ï¼Œåœ¨ä¸Šä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å»ºç«‹äº†ä¸€ä¸ªå¦‚ Tinder UI çš„ç®€å• Appï¼Œè€Œæœ¬ç« è¦åšçš„æ˜¯å»ºç«‹ä¸€ä¸ªåŠ¨æ€ UIï¼Œç±»ä¼¼äºä½ åœ¨ç”µå­é’±åŒ… App ä¸­çœ‹åˆ°çš„ UIã€‚å½“ä½ åœ¨ç”µå­é’±åŒ… App ä¸­é•¿æŒ‰ä¿¡ç”¨å¡æ—¶ï¼Œåˆ™å¯ä½¿ç”¨æ‹–æ›³æ‰‹åŠ¿æ¥é‡æ–°æ’åˆ—å¡ç‰‡ã€‚å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨è¿‡è¿™ä¸ª Appï¼Œè¯·å¼€å¯ç”µå­é’±åŒ…å¿«é€Ÿæµè§ˆä¸€ä¸‹ï¼Œæˆ–è€…ä½ å¯ä»¥è®¿é—®è¿™ä¸ªURL ï¼ˆ[https://link.appcoda.com/swiftui-wallet](https://link.appcoda.com/swiftui-wallet)ï¼‰æ¥äº†è§£æˆ‘ä»¬å°†å»ºç«‹çš„åŠ¨ç”»ã€‚

![%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-1.png](%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-1.png)

å›¾ 20.1. å»ºç«‹å¦‚ç”µå­é’±åŒ…çš„åŠ¨ç”»ä¸è§†å›¾è½¬åœº

åœ¨ç”µå­é’±åŒ… App ä¸­ï¼Œç‚¹å‡»å…¶ä¸­ä¸€å¼ ä¿¡ç”¨å¡ï¼Œå°±ä¼šå¼¹å‡ºäº¤æ˜“å†å²çºªå½•ã€‚æˆ‘ä»¬è¿˜å»ºç«‹ä¸€ä¸ªç±»ä¼¼çš„åŠ¨ç”»ï¼Œä»¥è®©ä½ æ›´äº†è§£è§†å›¾è½¬åœºä¸æ°´å¹³æ»šåŠ¨è§†å›¾ã€‚

### é¡¹ç›®å‡†å¤‡

ä¸ºäº†è®©ä½ ä¸“æ³¨äºå­¦ä¹ åŠ¨ç”»ä¸è§†å›¾è½¬åœºï¼Œä½ å¯ä»¥ä»åˆå§‹é¡¹ç›®å¼€å§‹([https://www.appcoda.com/resources/swiftui4/SwiftUIWalletStarter.zip](https://www.appcoda.com/resources/swiftui4/SwiftUIWalletStarter.zip))ã€‚è¿™ä¸ªåˆå§‹é¡¹ç›®å·²ç»ç»‘å®šäº†æ‰€éœ€çš„ä¿¡ç”¨å¡å›¾ç‰‡ï¼Œå¹¶ä¸”å¸¦æœ‰å†…å»ºçš„äº¤æ˜“å†å²çºªå½•è§†å›¾ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨è‡ªå·±çš„å›¾ç‰‡ï¼Œè¯·åœ¨ç´ æç›®å½•ä¸­æ›¿æ¢å®ƒä»¬ï¼Œå¦‚å›¾20.2 æ‰€ç¤ºã€‚

![%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-2.png](%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-2.png)

å›¾ 20.2 åˆå§‹é¡¹ç›®ç»‘å®šäº†ä¿¡ç”¨å¡å›¾ç‰‡

åœ¨é¡¹ç›®å¯¼èˆªå™¨ä¸­ï¼Œä½ åº”è¯¥ä¼šå‘ç°ä¸€äº› `.swift` æ¡£ï¼š

- **Transaction.swift** - `Transaction` ç»“æ„ä»£è¡¨ç”µå­é’±åŒ… Appä¸­çš„äº¤æ˜“ã€‚æ¯ä¸€ç¬”äº¤æ˜“æœ‰ä¸€ä¸ªå”¯ä¸€çš„ IDã€äº¤æ˜“å•†ã€é‡‘é¢ã€æ—¥æœŸä¸å›¾ç¤ºã€‚é™¤äº† `Transaction` ç»“æ„ä¹‹å¤–ï¼Œä½œä¸ºç¤ºèŒƒä¹‹ç”¨ï¼Œæˆ‘ä»¬è¿˜å£°æ˜ä¸€ä¸ªæµ‹è¯•äº¤æ˜“çš„æ•°ç»„ã€‚
- **Card.swift** - è¿™ä¸ªæ–‡ä»¶åŒ…å«äº† `Card` çš„ç»“æ„ã€‚`Card` è¡¨ç¤ºä¿¡ç”¨å¡çš„æ•°æ®ï¼ŒåŒ…å«å¡å·ã€ç±»å‹ã€æœ‰æ•ˆæ—¥æœŸã€å›¾ç‰‡ä¸å®¢æˆ·å§“åï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œä½ å¯ä»¥åœ¨æ–‡ä»¶ä¸­æ‰¾åˆ°ä¸€ä¸ªæµ‹è¯•ä¿¡ç”¨å¡çš„æ•°ç»„ã€‚éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå¡ç‰‡å›¾ç‰‡ä¸­ä¸åŒ…å«ä»»ä½•çš„ä¸ªäººèµ„è®¯ï¼Œè€ŒåªåŒ…å«å¡ç‰‡å“ç‰Œï¼ˆä¾‹å¦‚ï¼š Visa ï¼‰ã€‚ç¨åï¼Œæˆ‘ä»¬å°†ä¸ºä¿¡ç”¨å¡å»ºç«‹ä¸€ä¸ªè§†å›¾ã€‚
- **TransactionHistoryView.swift** - è¿™æ˜¯å›¾ 20.1ä¸­æ˜¾ç¤ºçš„äº¤æ˜“å†å²çºªå½•ï¼Œåˆå§‹é¡¹ç›®å·²ç»å¸¦æœ‰äº¤æ˜“å†å²çºªå½•è§†å›¾çš„å®ç°ã€‚æˆ‘ä»¬åœ¨æ°´å¹³æ»šåŠ¨è§†å›¾ä¸­æ˜¾ç¤ºäº¤æ˜“ï¼Œä½ ä¹‹å‰å·²ç»ä½¿ç”¨è¿‡å‚ç›´æ»šåŠ¨è§†å›¾ï¼Œè€Œå»ºç«‹æ°´å¹³è§†å›¾çš„æŠ€å·§æ˜¯åœ¨æ»šåŠ¨è§†å›¾åˆå§‹åŒ–æœŸé—´ä¼ é€ `.horizontal` å€¼ã€‚è¯·çœ‹ä¸€ä¸‹å›¾ 20.3 æˆ– Swift æ¡£æ¥äº†è§£è¯¦ç»†èµ„è®¯ ã€‚
- **ContentView.swift** - è¿™æ˜¯ Xcodeäº§ç”Ÿçš„é»˜è®¤ SwiftUI è§†å›¾ã€‚

![%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-3.png](%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-3.png)

å›¾ 20.3. ä½¿ç”¨.horizontal å»ºç«‹æ°´å¹³æ»šåŠ¨è§†å›¾

### å»ºç«‹å¡ç‰‡è§†å›¾

å¦‚ä¸Šä¸€èŠ‚æ‰€è¿°ï¼Œæ‰€æœ‰çš„å¡ç‰‡å›¾ç‰‡çš†ä¸åŒ…å«ä»»ä½•ä¸ªäººèµ„è®¯ä¸å¡å·ã€‚å†æ¬¡å¼€å¯ç´ æç›®å½•ï¼Œ å¹¶çœ‹ä¸€ä¸‹å›¾ç‰‡ï¼Œæ¯å¼ å¡ç‰‡å›¾ç‰‡åªå…·æœ‰å¡ç‰‡æ ‡å¿—ã€‚æˆ‘ä»¬å°†å¾ˆå¿«å»ºç«‹ä¸€ä¸ªå¡ç‰‡è§†å›¾ï¼Œæ¥å¸ƒå±€ä¸ªäººèµ„è®¯ä¸å¡å·ï¼Œå¦‚å›¾ 20.4 æ‰€ç¤ºã€‚

![%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-4.png](%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-4.png)

å›¾ 20.4. ç¤ºä¾‹å¡ç‰‡

è¦å»ºç«‹å¡ç‰‡è§†å›¾ï¼Œåˆ™åœ¨é¡¹ç›®å¯¼èˆªå™¨ä¸­ï¼Œå³é”®ç‚¹é€‰ `View` ç¾¤ç»„ï¼Œç„¶åå»ºç«‹ä¸€ä¸ªæ–°æ–‡ä»¶ã€‚é€‰å–â€œSwiftUI Viewâ€æ¨¡æ¿ï¼Œæ–‡ä»¶åç§°å‘½åä¸º `CardView.swift`ã€‚æ¥ä¸‹æ¥ï¼Œä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š

```
struct CardView: View {
    var card: Card

    var body: some View {
        Image(card.image)
        .resizable()
        .scaledToFit()
            .overlay(

                VStack(alignment: .leading) {
                    Text(card.number)
                        .bold()
                    HStack {
                        Text(card.name)
                            .bold()
                        Text("Valid Thru")
                            .font(.footnote)
                        Text(card.expiryDate)
                            .font(.footnote)
                    }
                }
                .foregroundColor(.white)
                .padding(.leading, 25)
                .padding(.bottom, 20)

            , alignment: .bottomLeading)
            .shadow(color: .gray, radius: 1.0, x: 0.0, y: 1.0)

    }
}

```

æˆ‘ä»¬å£°æ˜ä¸€ä¸ª `card` å±æ€§æ¥å¸¦å…¥å¡ç‰‡æ•°æ®ã€‚ä¸ºäº†åœ¨å¡ç‰‡å›¾ç‰‡ä¸Šæ˜¾ç¤ºä¸ªäººæ•°æ®ä¸å¡å·ï¼Œæˆ‘ä»¬ä½¿ç”¨ `overlay` ä¿®é¥°å™¨ï¼Œå¹¶ä»¥å‚ç›´å †å è§†å›¾ä¸æ°´å¹³å †å è§†å›¾æ¥å¸ƒå±€æ–‡å­—ç»„ä»¶ã€‚

è¦é¢„è§ˆå¡ç‰‡ï¼Œåˆ™ä¿®æ”¹ `CardView_Previews`ç»“æ„å¦‚ä¸‹ï¼š

```
struct CardView_Previews: PreviewProvider {
    static var previews: some View {
        ForEach(testCards) { card in
            CardView(card: card).previewDisplayName(card.type.rawValue)
        }
    }
}

```

`testCards` å˜é‡åœ¨ `Card.swift` ä¸­å®šä¹‰ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨ `ForEach` æ¥é€ä¸€è¿è¡Œå¡ç‰‡ï¼Œå¹¶è°ƒç”¨ `previewDisplayName` æ¥è®¾å®šé¢„è§ˆçš„åç§°ã€‚Xcode å°†å¦‚å›¾ 20.5 æ‰€ç¤ºå¸ƒå±€å¡ç‰‡ã€‚

![%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-5.png](%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-5.png)

å›¾ 20.5. é¢„è§ˆå¡ç‰‡è§†å›¾

### å»ºç«‹ç”µå­é’±åŒ…è§†å›¾ä¸å¡ç‰‡åº“

æˆ‘ä»¬ç°åœ¨å·²ç»å®ç°äº†å¡ç‰‡è§†å›¾ï¼Œè®©æˆ‘ä»¬å¼€å§‹å»ºç«‹ç”µå­é’±åŒ…è§†å›¾ã€‚å¦‚æœä½ å¿˜è®°ç”µå­é’±åŒ…è§†å›¾çš„å¤–è§‚ï¼Œè¯·çœ‹ä¸€ä¸‹å›¾ 20.6ã€‚åœ¨è¿›è¡Œæ‰‹åŠ¿ä¸åŠ¨ç”»ä¹‹å‰ï¼Œæˆ‘ä»¬å°†å…ˆå¸ƒå±€å¡ç‰‡åº“ã€‚

![%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-6.png](%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-6.png)

å›¾ 20.6 é’±åŒ…è§†å›¾

åœ¨é¡¹ç›®å¯¼èˆªå™¨ä¸­ï¼Œä½ åº”è¯¥ä¼šçœ‹åˆ° `ContentView.swift` æ¡£ã€‚åˆ é™¤å®ƒï¼Œç„¶åå³é”®ç‚¹é€‰ `View` æ•°æ®å¤¹ï¼Œä»¥å»ºç«‹ä¸€ä¸ªæ–°æ–‡ä»¶ã€‚åœ¨å¯¹è¯æ–¹å—ä¸­ï¼Œé€‰å–â€œSwiftUI Viewâ€ä½œä¸ºæ¨¡æ¿ï¼Œå¹¶å°†æ–‡ä»¶å‘½åä¸º `WalletView.swift`ã€‚

å¦‚æœä½ é¢„è§ˆ `WalletView` æˆ–åœ¨æ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œ Appï¼ŒXcode åº”è¯¥ä¼šæ˜¾ç¤ºä¸€ä¸ªé”™è¯¯ï¼Œå› ä¸º `ContentView` è®¾å®šä¸ºåˆå§‹è§†å›¾ï¼Œå¹¶ä¸”å…¶è¢«åˆ é™¤äº†ã€‚è¦ä¿®æ­£è¿™ä¸ªé”™è¯¯ï¼Œåˆ™å¼€å¯ `SwiftUIWallet App.swift`ï¼Œå¹¶å°† `WindowGroup` ä¸­ä¸‹åˆ—è¿™è¡Œä»£ç ï¼š

```
ContentView()

```

ä¿®æ”¹ä¸ºï¼š

```
WalletView()

```

åˆ‡æ¢å› `WalletView.swift`ã€‚å½“ä½ ä¿®æ”¹åï¼Œå°†å¯ä¿®æ­£ç¼–è¯‘é”™è¯¯ï¼Œç°åœ¨æˆ‘ä»¬ç»§ç»­å¸ƒå±€ç”µå­é’±åŒ…è§†å›¾ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä»æ ‡é¢˜åˆ—å¼€å§‹ï¼Œåœ¨ `WalletView.swift` æ¡£ä¸­ï¼Œä¸ºæ ‡é¢˜åˆ—æ’å…¥ä¸€ä¸ªæ–°ç»“æ„ï¼š

```
struct TopNavBar: View {

    var body: some View {
        HStack {
            Text("Wallet")
                .font(.system(.largeTitle, design: .rounded))
                .fontWeight(.heavy)

            Spacer()

            Image(systemName: "plus.circle.fill")
                .font(.system(.title))
        }
        .padding(.horizontal)
        .padding(.top, 20)
    }
}

```

ä»£ç éå¸¸ç®€å•ï¼Œæˆ‘ä»¬ä½¿ç”¨æ°´å¹³å †å æ¥å¸ƒå±€æ ‡é¢˜ä¸åŠ å·å›¾ç‰‡ã€‚

æ¥ä¸‹æ¥ï¼Œæ˜¯é’ˆå¯¹å¡ç‰‡åº“ã€‚é¦–å…ˆï¼Œåœ¨ `WalletView` ç»“æ„ä¸­ï¼Œä¸ºä¿¡ç”¨å¡æ•°ç»„å£°æ˜ä¸€ä¸ªå±æ€§ï¼š

```
var cards: [Card] = testCards

```

ä¸ºäº†ç¤ºèŒƒï¼Œæˆ‘ä»¬åªå°†é»˜è®¤å€¼è®¾å®šä¸º `Card.swift` æ¡£ä¸­å®šä¹‰çš„ `testCards`ã€‚è¦å¸ƒå±€ç”µå­é’±åŒ…è§†å›¾ï¼Œæˆ‘ä»¬åŒæ—¶ä½¿ç”¨`VStack` ä¸ `ZStack`ï¼Œä¿®æ”¹ `body` å˜é‡å¦‚ä¸‹ï¼š

```
var body: some View {
   VStack {

        TopNavBar()
            .padding(.bottom)

        Spacer()

        ZStack {
            ForEach(cards) { card in
                CardView(card: card)
                    .padding(.horizontal, 35)
            }
        }

        Spacer()
    }
}

```

å¦‚æœä½ åœ¨æ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œè¿™ä¸ª App æˆ–ç›´æ¥é¢„è§ˆ UIï¼Œåˆ™åº”è¯¥åªçœ‹åˆ°å¡ç‰‡åº“ä¸­çš„æœ€åä¸€å¼ å¡ç‰‡ï¼Œå¦‚å›¾ 20.7 æ‰€ç¤ºã€‚

![%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-7.png](%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-7.png)

å›¾ 20.7. å°è¯•æ˜¾ç¤ºå¡ç‰‡åº“

ç›®å‰çš„å®ç°æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š

1. *å¡ç‰‡ç°åœ¨å½¼æ­¤é‡å äº†* - æˆ‘ä»¬éœ€è¦æ‰¾å‡ºä¸€ç§æ–¹å¼æ¥å±•å¼€ä¸€å‰¯å¡ç‰‡ã€‚
2. *Discoverå¡åº”è¯¥æ˜¯æœ€åä¸€å¼ å¡ç‰‡* - åœ¨ ZStackä¸­ï¼Œé¡¹ç›®å½¼æ­¤å †å åœ¨ä¸€èµ·ã€‚æ”¾å…¥ ZStackçš„ç¬¬ä¸€ä¸ªé¡¹ç›®æˆä¸ºæœ€ä½å±‚ï¼Œè€Œæœ€åä¸€ä¸ªé¡¹ç›®æˆä¸ºæœ€é«˜å±‚ã€‚å¦‚æœä½ çœ‹ä¸€ä¸‹ `Card.swift` ä¸­çš„ `testCards` æ•°ç»„ï¼Œç¬¬ä¸€å¼ å¡ç‰‡æ˜¯ Visa å¡ï¼Œæœ€åä¸€å¼ å¡ç‰‡æ˜¯ Discover å¡ã€‚

é‚£ä¹ˆï¼Œæˆ‘ä»¬è¦å¦‚ä½•ä¿®æ­£è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå¯¹äºç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `offset`ä¿®é¥°å™¨æ¥å±•å¼€ä¸€å‰¯å¡ç‰‡ã€‚è€Œå¯¹äºç¬¬äºŒä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ˜¾ç„¶å¯ä»¥ä¿®æ”¹æ¯ä¸ª `CardView` çš„ `zIndex`ï¼Œä»¥æ”¹å˜å¡ç‰‡çš„é¡ºåºã€‚å›¾ 20.8 è¯´æ˜äº†è¿™ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

![%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-8.png](%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-8.png)

å›¾ 20.8. äº†è§£zIndex ä¸åç§»é‡

æˆ‘ä»¬å…ˆè®¨è®ºä¸€ä¸‹ z-indexã€‚æ¯å¼ å¡ç‰‡çš„ z-index æ˜¯å…¶åœ¨ `cards` æ•°ç»„ä¸­ç´¢å¼•çš„è´Ÿå€¼ï¼Œå¦‚æ­¤æœ€åä¸€ä¸ªé¡¹ç›®æ‹¥æœ‰æ•°ç»„ç´¢å¼•çš„æœ€å¤§å€¼ï¼Œä¹Ÿå°†ä¼šæœ‰æœ€å°çš„ z-indexã€‚å¯¹äºå®é™…çš„å®ç°ï¼Œæˆ‘ä»¬å°†å»ºç«‹ä¸€ä¸ªå•ç‹¬çš„å‡½æ•°æ¥å¤„ç† z-index çš„è®¡ç®—ã€‚åœ¨`WalletView` ä¸­ï¼Œæ’å…¥ä¸‹åˆ—çš„ä»£ç ï¼š

```
private func zIndex(for card: Card) -> Double {
    guard let cardIndex = index(for: card) else {
        return 0.0
    }

    return -Double(cardIndex)
}

private func index(for card: Card) -> Int? {
    guard let index = cards.firstIndex(where: { $0.id == card.id }) else {
        return nil
    }

    return index
}

```

è¿™ä¸¤ä¸ªå‡½æ•°å¯ä»¥ä¸€èµ·æ‰¾å‡ºç»™å®šå¡ç‰‡çš„æ­£ç¡® z-indexã€‚è¦è®¡ç®—æ­£ç¡®çš„ z-indexï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å–å¾— `cards` æ•°ç»„ä¸­å¡ç‰‡çš„ç´¢å¼•å€¼ï¼Œ`index(for:)` å‡½æ•°æ˜¯ä¸ºäº†æ‰¾å‡ºç»™å®šå¡ç‰‡çš„æ•°ç»„ç´¢å¼•å€¼è€Œè®¾è®¡çš„ã€‚å½“æˆ‘ä»¬æœ‰äº†ç´¢å¼•å€¼åï¼Œå°±å¯ä»¥å°†å…¶å˜æˆè´Ÿå€¼ï¼Œè¿™å°±æ˜¯ `zIndex(for:)` å‡½æ•°çš„ä½œç”¨ã€‚

ç°åœ¨ï¼Œä½ å¯ä»¥å°† `zIndex` ä¿®é¥°å™¨åŠ åˆ° `CardView`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
CardView(card: card)
    .padding(.horizontal, 35)
    .zIndex(self.zIndex(for: card))

```

å½“ä½ ä¿®æ”¹åï¼ŒVisa å¡ç‰‡åº”è¯¥ç§»åˆ°å¡ç‰‡åº“çš„æœ€ä¸Šæ–¹ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¿®æ­£ç¬¬ä¸€ä¸ªé—®é¢˜æ¥å±•å¼€å¡ç‰‡ï¼Œæ¯å¼ å¡ç‰‡éƒ½åº”åç§»ä¸€å®šçš„å‚ç›´è·ç¦»ã€‚è€Œè¿™ä¸ªè·ç¦»æ˜¯ä½¿ç”¨å¡ç‰‡çš„ç´¢å¼•å€¼æ¥è®¡ç®—çš„ã€‚å‡è®¾æˆ‘ä»¬å°†é»˜è®¤çš„å‚ç›´åç§»é‡è®¾å®šä¸º 50 ç‚¹ï¼Œæœ€åä¸€å¼ å¡ç‰‡å°†ä¼šä½ç§» 200 ç‚¹ï¼ˆ50Ã—4ï¼‰ã€‚

ç°åœ¨ï¼Œä½ åº”è¯¥äº†è§£æˆ‘ä»¬å°†å¦‚ä½•å±•å¼€å¡ç‰‡äº†ï¼Œæˆ‘ä»¬æ¥ç¼–å†™ä»£ç ã€‚åœ¨ `WalletView` ä¸­å£°æ˜é»˜è®¤çš„å‚ç›´åç§»é‡ï¼š

```
private static let cardOffset: CGFloat = 50.0

```

æ¥ä¸‹æ¥ï¼Œå»ºç«‹ä¸€ä¸ªåä¸º `offset(for:)`çš„æ–°å‡½æ•°ï¼Œç”¨äºè®¡ç®—ç»™å®šå¡ç‰‡çš„å‚ç›´åç§»é‡ï¼š

```
private func offset(for card: Card) -> CGSize {

    guard let cardIndex = index(for: card) else {
        return CGSize()
    }

    return CGSize(width: 0, height: -50 * CGFloat(cardIndex))
}

```

æœ€åï¼Œå°† `offset` ä¿®é¥°å™¨åŠ å…¥åˆ° `CardView`ï¼š

```
CardView(card: card)
    .padding(.horizontal, 35)
    .offset(self.offset(for: card))
    .zIndex(self.zIndex(for: card))

```

è¿™å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨ `offset` ä¿®é¥°å™¨æ¥å±•å¼€å¡ç‰‡çš„æ–¹å¼ã€‚è‹¥æ˜¯ä¸€åˆ‡æ­£ç¡®ï¼Œä½ åº”è¯¥ä¼šçœ‹åˆ°å¦‚å›¾ 20.9 æ‰€ç¤ºçš„é¢„è§ˆã€‚

![%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-9.png](%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-9.png)

å›¾ 20.9. å±•å¼€å¡ç‰‡

### åŠ å…¥æ»‘å…¥åŠ¨ç”»

æˆ‘ä»¬ç°åœ¨å·²ç»å®Œæˆäº†ç”µå­é’±åŒ…è§†å›¾çš„å¸ƒå±€ï¼Œæ˜¯æ—¶å€™åŠ å…¥ä¸€äº›åŠ¨ç”»äº†ï¼Œæˆ‘è¦åŠ å…¥çš„ç¬¬ä¸€ä¸ªåŠ¨ç”»æ˜¯æ»‘å…¥åŠ¨ç”»ã€‚å½“ç¬¬ä¸€æ¬¡å¼€å¯ App æ—¶ï¼Œæ¯å¼ å¡ç‰‡éƒ½ä»å±å¹•æœ€å·¦ä¾§æ»‘å…¥ï¼Œä½ å¯èƒ½è®¤ä¸ºè¿™ä¸ªåŠ¨ç”»æ˜¯ä¸å¿…è¦çš„ï¼Œä½†æ˜¯æˆ‘æƒ³è—‰æ­¤æœºä¼šæ•™ä½ å¦‚ä½•å»ºç«‹åŠ¨ç”»ä»¥åŠå¼€å¯ App æ—¶çš„è§†å›¾è½¬åœºã€‚

![%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-10.png](%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-10.png)

å›¾ 20.10 æ»‘å…¥åŠ¨ç”»

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§è§¦å‘è¿‡æ¸¡åŠ¨ç”»çš„æ–¹æ³•ï¼Œ å…ˆåœ¨ `CardView` çš„å¼€å¤´å£°æ˜ä¸€ä¸ªçŠ¶æ€å˜é‡ï¼š

```
@State private var isCardPresented = false

```

æ­¤å˜é‡æŒ‡ç¤ºå¡ç‰‡æ˜¯å¦åº”æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚ åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œå®ƒè®¾ç½®ä¸º`false`ã€‚ ç¨åï¼Œæˆ‘ä»¬å°†æ­¤å€¼è®¾ç½®ä¸º `true` ä»¥å¯åŠ¨è§†å›¾è½¬æ¢ã€‚

æ¯å¼ å¡ç‰‡éƒ½æ˜¯ä¸€ä¸ªè§†å›¾ã€‚è¦å®ç°å¦‚å›¾ 20.10 æ‰€ç¤ºçš„åŠ¨ç”»ï¼Œæˆ‘ä»¬éœ€è¦å°† `transition` ä¸ `animation` ä¿®é¥°å™¨åŠ åˆ°`CardView` ä¸Šï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
CardView(card: card)
    .offset(self.offset(for: card))
    .padding(.horizontal, 35)
    .zIndex(self.zIndex(for: card))
    .transition(AnyTransition.slide.combined(with: .move(edge: .leading)).combined(with: .opacity))
    .animation(self.transitionAnimation(for: card), value: isCardPresented)

```

å¯¹äºè½¬åœºï¼Œæˆ‘ä»¬å°†é»˜è®¤çš„æ»‘åŠ¨è½¬åœºä¸ç§»åŠ¨è½¬åœºç»“åˆåœ¨ä¸€èµ·ã€‚å¦‚å‰æ‰€è¿°ï¼Œè‹¥æ˜¯æ²¡æœ‰ `animation` ä¿®é¥°å™¨ï¼Œåˆ™è½¬åœºå°†ä¸ä¼šåŠ¨ç”»åŒ–ï¼Œè¿™å°±æ˜¯ä¸ºä½•æˆ‘ä»¬è¿˜è¦åŠ å…¥ `animation` ä¿®é¥°å™¨çš„ç¼˜æ•…ã€‚ç”±äºæ¯å¼ å¡ç‰‡éƒ½æœ‰è‡ªå·±çš„åŠ¨ç”»ï¼Œæˆ‘ä»¬å»ºç«‹ä¸€ä¸ªåä¸º `transitionAnimation(for:)` å‡½æ•°æ¥è®¡ç®—åŠ¨ç”»ã€‚æ’å…¥ä¸‹åˆ—çš„ä»£ç æ¥å»ºç«‹å‡½æ•°ï¼š

```
private func transitionAnimation(for card: Card) -> Animation {
    var delay = 0.0

    if let index = index(for: card) {
        delay = Double(cards.count - index) * 0.1
    }

    return Animation.spring(response: 0.1, dampingFraction: 0.8, blendDuration: 0.02).delay(delay)
}

```

äº‹å®ä¸Šï¼Œæ‰€æœ‰çš„å¡ç‰‡éƒ½æœ‰ç›¸ä¼¼çš„åŠ¨ç”»ï¼ˆå³å¼¹ç°§åŠ¨ç”»ï¼‰ï¼Œå·®åˆ«åœ¨äºâ€œå»¶è¿Ÿâ€ï¼ˆdelay ï¼‰ã€‚å¡ç‰‡åº“çš„æœ€åä¸€å¼ å¡ç‰‡å°†å…ˆå‡ºç°ï¼Œå› æ­¤å»¶è¿Ÿå€¼åº”è¯¥æœ€å°ã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬å¦‚ä½•è®¡ç®—æ¯å¼ å¡ç‰‡çš„å»¶è¿Ÿçš„å…¬å¼ï¼Œç´¢å¼•å€¼è¶Šå°ï¼Œå»¶è¿Ÿè¶Šé•¿ã€‚

```
delay = Double(cards.count - index) * 0.1

```

å“ªæˆ‘ä»¬è¦å¦‚ä½•åœ¨ App å¯åŠ¨çš„æ—¶å€™è§¦å‘è½¬åœºï¼Ÿè¯€çªå°±æ˜¯ä¸ºæ¯ä¸€ä¸ªå¡è§†å›¾åŠ å…¥`id` ä¿®é¥°å™¨ã€‚

```
CardView(card: card)
    .
    .
    .
    .id(isCardPresented)
    .
    .animation(self.transitionAnimation(for: card), value: isCardPresented)

```

`id` çš„å€¼è®¾å®šä¸º `isCardPresented` ã€‚ä¹‹åï¼ŒåŠ å…¥ `onAppear` ä¿®é¥°å™¨ï¼Œå¹¶å°†å®ƒåŠ åˆ° `ZStack`ï¼š

```
.onAppear {
    isCardPresented.toggle()
}

```

å½“ `ZStack` å‡ºç°æ—¶ï¼Œæˆ‘ä»¬å°† `isCardPresented` çš„å€¼ä» `false` ä¿®æ”¹ä¸º `true`ï¼Œè¿™å°†è§¦å‘å¡ç‰‡çš„è§†å›¾åŠ¨ç”»ã€‚åº”ç”¨ä¿®æ”¹åï¼Œåœ¨é¢„è§ˆç”»å¸ƒä¸­ç‚¹å¢¼â€œPlayâ€æŒ‰é’®ï¼Œæ¥è¿›è¡Œæµ‹è¯•ã€‚

ä¿®æ”¹åï¼Œç‚¹å‡» *Play* æŒ‰é’®åœ¨æ¨¡æ‹Ÿå™¨ä¸­æµ‹è¯•Appï¼ŒAppå¯åŠ¨æ—¶å°±ä¼šå‘ˆç°åŠ¨ç”»ã€‚

### å¤„ç†ç‚¹å‡»æ‰‹åŠ¿åŠæ˜¾ç¤ºäº¤æ˜“çºªå½•

å½“ä½¿ç”¨è€…ç‚¹å‡»å¡ç‰‡æ—¶ï¼ŒApp ä¼šå‘ä¸Šç§»åŠ¨æ‰€é€‰çš„å¡ç‰‡ï¼Œå¹¶ä¸”æ˜¾ç¤ºå†å²äº¤æ˜“çºªå½•ã€‚å¯¹äºå…¶ä»–æ²¡æœ‰é€‰åˆ°çš„å¡ç‰‡ï¼Œå®ƒä»¬ä¼šè¢«ç§»å‡ºå±å¹•ã€‚

è¦å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸¤ä¸ªçŠ¶æ€å˜é‡ã€‚åœ¨ `WalletView` ä¸­å£°æ˜è¿™äº›å˜é‡ï¼š

```
@State var isCardPressed = false
@State var selectedCard: Card?

```

`isCardPressed` å˜é‡æŒ‡ç¤ºæ˜¯å¦é€‰æ‹©å¡ç‰‡ï¼Œè€Œ `selectedCard` å˜é‡å‚¨å­˜ä½¿ç”¨è€…é€‰æ‹©çš„å¡ç‰‡ã€‚

```
.gesture(
    TapGesture()
        .onEnded({ _ in
            withAnimation(.easeOut(duration: 0.15).delay(0.1)) {
                self.isCardPressed.toggle()
                self.selectedCard = self.isCardPressed ? card : nil
            }
        })
)

```

è¦å¤„ç†ç‚¹å‡»æ‰‹åŠ¿ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸Šè¿°çš„ `gesture` ä¿®é¥°å™¨åŠ åˆ° `CardView`ï¼Œå¹¶ä½¿ç”¨å†…å»ºçš„ `TapGesture` æ¥æ•æ‰ç‚¹å‡»äº‹ä»¶ã€‚åœ¨ä»£ç åŒºå—ä¸­ï¼Œæˆ‘ä»¬åªéœ€åˆ‡æ¢`isCardPressed`çš„çŠ¶æ€ï¼Œå¹¶å°†ç›®å‰çš„å¡ç‰‡è®¾å®šä¸º `selectedCard` å˜é‡ã€‚

è¦å°†æ‰€é€‰çš„å¡ç‰‡ï¼ˆåŠå…¶ä¸‹æ–¹çš„å¡ç‰‡ï¼‰å‘ä¸Šç§»åŠ¨ï¼Œå¹¶è®©å…¶ä½™çš„å¡ç‰‡ç§»å‡ºå±å¹•çš„è¯ï¼Œåˆ™ä¿®æ”¹ `offset(for:)` å‡½æ•°å¦‚ä¸‹ï¼š

```
private func offset(for card: Card) -> CGSize {

    guard let cardIndex = index(for: card) else {
        return CGSize()
    }

    if isCardPressed {
        guard let selectedCard = self.selectedCard,
            let selectedCardIndex = index(for: selectedCard) else {
                return .zero
        }

        if cardIndex >= selectedCardIndex {
            return .zero
        }

        let offset = CGSize(width: 0, height: 1400)

        return offset
    }

    return CGSize(width: 0, height: -50 * CGFloat(cardIndex))
}

```

æˆ‘ä»¬åŠ å…¥äº†ä¸€ä¸ª `if` è¯­å¥æ¥æ£€æŸ¥å¡ç‰‡æ˜¯å¦è¢«é€‰ä¸­ã€‚å¦‚æœç»™å®šçš„å¡ç‰‡æ˜¯ä½¿ç”¨è€…é€‰æ‹©çš„å¡ç‰‡ï¼Œ åˆ™æˆ‘ä»¬å°†åç§»é‡è®¾å®šä¸º`.zero`ã€‚å¯¹äºæ‰€é€‰å¡ç‰‡æ­£ä¸‹æ–¹çš„é‚£äº›å¡ç‰‡ï¼Œæˆ‘ä»¬ä¹Ÿå°†å‘ä¸Šç§»åŠ¨ï¼Œ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å°†åç§»é‡è®¾å®šä¸º `.zero`ã€‚è€Œå…¶ä½™çš„å¡ç‰‡ï¼Œæˆ‘ä»¬å°†å®ƒä»¬ç§»å‡ºå±å¹•ï¼Œå› æ­¤å‚ç›´åç§»é‡è®¾å®šä¸º `1400 ç‚¹`ã€‚

ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»å‡†å¤‡å¥½ç¼–å†™ç”¨äºå¼¹å‡ºäº¤æ˜“å†å²çºªå½•è§†å›¾çš„ä»£ç ã€‚æ­£å¦‚ä¸€å¼€å§‹æ‰€è¿°ï¼Œ åˆå§‹é¡¹ç›®å·²ç»æä¾›è¿™ä¸ªäº¤æ˜“å†å²çºªå½•è§†å›¾ã€‚å› æ­¤ï¼Œä½ ä¸éœ€è¦è‡ªå·±å»ºç«‹å®ƒã€‚

è—‰ç”± `isCardPressed` çŠ¶æ€å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥ç¡®å®šæ˜¯å¦æ˜¾ç¤ºäº¤æ˜“å†å²çºªå½•è§†å›¾ã€‚åœ¨ `Spacer()` å‰é¢æ’å…¥ä¸‹åˆ—ä»£ç ï¼š

```
if isCardPressed {
    TransactionHistoryView(transactions: testTransactions)
        .padding(.top, 10)
        .transition(.move(edge: .bottom))
}

```

åœ¨ä¸Šåˆ—çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬è®¾å®šè½¬åœºä¸º `.move`ï¼Œä»¥ä»å±å¹•åº•éƒ¨å¸¦å…¥è§†å›¾ï¼Œä½ å¯ä»¥ä¾ç…§è‡ªå·±çš„å–œå¥½æ¥éšæ„ä¿®æ”¹å®ƒã€‚

![%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-11.png](%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-11.png)

å›¾ 20.11 æ˜¾ç¤ºäº¤æ˜“å†å²çºªå½•

### ä½¿ç”¨æ‹–æ›³æ‰‹åŠ¿é‡æ–°æ’åˆ—å¡ç‰‡

ç°åœ¨ï¼Œæ¥åˆ°æœ¬ç« çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œæˆ‘ä»¬æ¥çœ‹å¦‚ä½•è®©ä½¿ç”¨è€…ä»¥æ‹–æ›³æ‰‹åŠ¿é‡æ–°æ’åˆ—å¡ç‰‡åº“ã€‚é¦–å…ˆï¼Œæˆ‘è¯¦ç»†æè¿°æ­¤åŠŸèƒ½çš„å·¥ä½œåŸç†ï¼š

1. è¦å¼€å§‹æ‹–æ›³åŠ¨ä½œï¼Œä½¿ç”¨è€…å¿…é¡»é•¿æŒ‰å¡ç‰‡ã€‚ç®€å•çš„ç‚¹å‡»å°†åªä¼šå¼¹å‡ºäº¤æ˜“å†å²çºªå½•ã€‚
2. å½“ä½¿ç”¨è€…æˆåŠŸæŒ‰ä½å¡ç‰‡åï¼ŒAppä¼šå°†å¡ç‰‡å‘ä¸Šç§»åŠ¨ä¸€ç‚¹ã€‚è¿™æ˜¯æˆ‘ä»¬æƒ³è¦ç»™ä½¿ç”¨è€…çš„ä¸€ç§å›é¦ˆï¼Œå‘Šè¯‰ä½¿ç”¨è€…å·²ç»å‡†å¤‡å¥½å¯ä»»æ„æ‹–æ›³å¡ç‰‡äº†ã€‚
3. å½“ä½¿ç”¨è€…æ‹–æ›³å¡ç‰‡æ—¶ï¼Œä½¿ç”¨è€…åº”è¯¥èƒ½åœ¨å¡ç‰‡åº“ä¸­ç§»åŠ¨å®ƒã€‚
4. ä½¿ç”¨è€…åœ¨æŸä¸ªä½ç½®æ”¾å¼€å¡ç‰‡åï¼ŒAppä¼šä¿®æ”¹å¡ç‰‡åº“ä¸­çš„æ‰€æœ‰å¡ç‰‡ä½ç½®ã€‚

![%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-12.png](%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-12.png)

å›¾ 20.12. ä½¿ç”¨æ‹–æ›³æ‰‹åŠ¿åœ¨å¡ç‰‡åº“ä¸Šç§»åŠ¨å¡ç‰‡

### å¤„ç†é•¿æŒ‰ä¸æ‹–æ›³æ‰‹åŠ¿

ç°åœ¨ä½ åº”è¯¥äº†è§£æˆ‘ä»¬å°†è¦åšä»€ä¹ˆï¼Œæˆ‘ä»¬æ¥ç»§ç»­å®ç°ã€‚å¦‚æœä½ å¿˜è®°æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ SwiftUI å¤„ç†æ‰‹åŠ¿ï¼Œåˆ™è¯·å›å¤´é˜…è¯»ç¬¬ 17 ç« ï¼Œè¯¥ç« å·²ç»è®¨è®ºäº†æˆ‘ä»¬å°†ä½¿ç”¨çš„å¤§å¤šæ•°æŠ€æœ¯ã€‚

é¦–å…ˆï¼Œåœ¨ `WalletView.swift` ä¸­æ’å…¥ä¸‹åˆ—çš„ä»£ç ï¼Œæ¥å»ºç«‹ `DragState` æšä¸¾ï¼Œä»¥ä½¿æˆ‘ä»¬å¯ä»¥è½»æ¾è¿½è¸ªæ‹–æ›³çŠ¶æ€ï¼š

```
enum DragState {
    case inactive
    case pressing(index: Int? = nil)
    case dragging(index: Int? = nil, translation: CGSize)

    var index: Int? {
        switch self {
        case .pressing(let index), .dragging(let index, _):
            return index
        case .inactive:
            return nil
        }
    }
    var translation: CGSize {
        switch self {
        case .inactive, .pressing:
            return .zero
        case .dragging(_, let translation):
            return translation
        }
    }

    var isPressing: Bool {
        switch self {
        case .pressing, .dragging:
            return true
        case .inactive:
            return false
        }
    }

    var isDragging: Bool {
        switch self {
        case .dragging:
            return true
        case .inactive, .pressing:
            return false
        }
    }
}

```

æ¥ä¸‹æ¥ï¼Œåœ¨ `WalletView` ä¸­å£°æ˜ä¸€ä¸ªçŠ¶æ€å˜é‡ï¼Œæ¥æŒç»­è¿½è¸ªæ‹–æ›³çŠ¶æ€ï¼š

```
@GestureState private var dragState = DragState.inactive

```

å¦‚æœä½ ä¹‹å‰é˜…è¯»è¿‡ç¬¬ 17 ç« ï¼Œé‚£ä¹ˆä½ åº”è¯¥å·²ç»çŸ¥é“å¦‚ä½•ä¾¦æµ‹é•¿æŒ‰ä¸æ‹–æ›³æ‰‹åŠ¿ã€‚ç„¶è€Œï¼Œè¿™æ¬¡æœ‰ç‚¹ä¸åŒï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶å¤„ç†ç‚¹å‡»æ‰‹åŠ¿ã€æ‹–æ›³ä¸é•¿æŒ‰æ‰‹åŠ¿ã€‚è€Œä¸”ï¼Œå¦‚æœä¾¦æµ‹åˆ°é•¿æŒ‰æ‰‹åŠ¿ï¼Œåˆ™ App åº”è¯¥å¿½ç•¥ç‚¹å‡»æ‰‹åŠ¿ã€‚

ç°åœ¨ä¿®æ”¹ `CardView` çš„ `gesture` ä¿®é¥°å™¨å¦‚ä¸‹ï¼š

```
.gesture(
    TapGesture()
        .onEnded({ _ in
            withAnimation(.easeOut(duration: 0.15).delay(0.1)) {
                self.isCardPressed.toggle()
                self.selectedCard = self.isCardPressed ? card : nil
            }
        })
        .exclusively(before: LongPressGesture(minimumDuration: 0.05)
        .sequenced(before: DragGesture())
        .updating(self.$dragState, body: { (value, state, transaction) in
            switch value {
            case .first(true):
                state = .pressing(index: self.index(for: card))
            case .second(true, let drag):
                state = .dragging(index: self.index(for: card), translation: drag?.translation ?? .zero)
            default:
                break
            }

        })
        .onEnded({ (value) in

            guard case .second(true, let drag?) = value else {
                return
            }

            // é‡æ–°æ’åˆ—å¡ç‰‡
        })

    )
)

```

SwiftUI è®©ä½ å¯ä¸“é—¨ç»„åˆå¤šç§æ‰‹åŠ¿ã€‚åœ¨ä¸Šåˆ—çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å‘Šè¯‰ SwiftUI æ•æ‰ç‚¹å‡»æ‰‹åŠ¿æˆ–é•¿æŒ‰æ‰‹åŠ¿ï¼Œæ¢å¥è¯è¯´ï¼Œå½“ä¾¦æµ‹åˆ°ç‚¹å‡»æ‰‹åŠ¿æ—¶ï¼ŒSwiftUI å°†å¿½ç•¥é•¿æŒ‰æ‰‹åŠ¿ã€‚

<aside>
ğŸ’¡ ä¸Šé¢ä»£ç çš„æ„æ€æ˜¯ï¼š
å¦‚æœæ˜¯å•ç‚¹å°±æ‰§è¡Œå•ç‚¹ï¼Œæ‰€ä»¥å°±æ‰§è¡Œ.onEndedæ–¹æ³•
å¦‚æœæŒ‰ä¸‹ä¸æ”¾ï¼Œå°±å˜æˆäº†é•¿æŒ‰ï¼Œå› æ­¤å•ç‚¹çš„æ–¹æ³•.onEndedå°±ä¸æ‰§è¡Œã€‚**é•¿æŒ‰å’Œåé¢çš„dragå˜æˆç»„åˆæ‰‹åŠ¿**ï¼šåˆ†åˆ«å¤„ç†é•¿æŒ‰ï¼ˆä¸Šç§»20ï¼‰çš„å’Œæ‹–åŠ¨ï¼ˆè·Ÿéšï¼‰çš„çŠ¶æ€

</aside>

ç‚¹å‡»æ‰‹åŠ¿çš„ä»£ç ä¸æˆ‘ä»¬ä¹‹å‰ç¼–å†™çš„ä»£ç å®Œå…¨ç›¸åŒï¼Œè€Œæ‹–æ›³æ‰‹åŠ¿æ˜¯æ’åˆ—åœ¨é•¿æŒ‰æ‰‹åŠ¿ä¹‹åã€‚åœ¨ `updating` å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å°†æ‹–æ›³çš„çŠ¶æ€ã€è½¬åœºä¸å¡ç‰‡çš„ç´¢å¼•å€¼è®¾å®šä¸ºä¹‹å‰å®šä¹‰çš„ `dragState` å˜é‡ã€‚æˆ‘å°†ä¸ä¼šåƒç¬¬ 17 ç« é‚£æ ·è¯¦ç»†è§£é‡Šä»£ç ã€‚

åœ¨æ‹–æ›³å¡ç‰‡ä¹‹å‰ï¼Œä½ å¿…é¡»ä¿®æ”¹ `offset(for:)` å‡½æ•°å¦‚ä¸‹ï¼š

```
private func offset(for card: Card) -> CGSize {

    guard let cardIndex = index(for: card) else {
        return CGSize()
    }

    if isCardPressed {
        guard let selectedCard = self.selectedCard,
            let selectedCardIndex = index(for: selectedCard) else {
                return .zero
        }

        if cardIndex >= selectedCardIndex {
            return .zero
        }

        let offset = CGSize(width: 0, height: 1400)

        return offset
    }

    // Handle dragging
    var pressedOffset = CGSize.zero
    var dragOffsetY: CGFloat = 0.0

    if let draggingIndex = dragState.index,
        cardIndex == draggingIndex {
        pressedOffset.height = dragState.isPressing ? -20 : 0

        switch dragState.translation.width {
        case let width where width < -10: pressedOffset.width = -20
        case let width where width > 10: pressedOffset.width = 20
        default: break
        }

        dragOffsetY = dragState.translation.height
    }

    return CGSize(width: 0 + pressedOffset.width, height: -50 * CGFloat(cardIndex) + pressedOffset.height + dragOffsetY)
}

```

æˆ‘ä»¬åŠ å…¥ä¸€æ®µä»£ç åŒºå—æ¥å¤„ç†æ‹–æ›³ã€‚è¯·è°¨è®°ï¼Œåªæœ‰é€‰å®šçš„å¡ç‰‡æ˜¯å¯æ‹–æ›³çš„ã€‚å› æ­¤ï¼Œ åœ¨ä¿®æ”¹åç§»é‡ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥ç»™å®šçš„å¡ç‰‡æ˜¯å¦ä¸ºä½¿ç”¨è€…æ‹–æ›³çš„å¡ç‰‡ã€‚

ä¹‹å‰ï¼Œæˆ‘ä»¬å°†å¡ç‰‡ç´¢å¼•å€¼å‚¨å­˜åœ¨ `dragState` å˜é‡ä¸­ï¼Œå› æ­¤æˆ‘ä»¬å¯è½»æ¾æ¯”è¾ƒç»™å®šçš„å¡ç‰‡ç´¢å¼•å€¼ä¸å‚¨å­˜åœ¨ `dragState` ä¸­çš„å¡ç‰‡ç´¢å¼•å€¼ï¼Œä»¥æ‰¾å‡ºæ‹–æ›³çš„å¡ç‰‡ã€‚

å¯¹äºæ‹–æ›³çš„å¡ç‰‡ï¼Œæˆ‘ä»¬åœ¨æ°´å¹³ä¸å‚ç›´æ–¹å‘ä¸Šéƒ½åŠ å…¥äº†é¢å¤–çš„åç§»é‡ã€‚

ç°åœ¨ï¼Œä½ å¯ä»¥è¿è¡ŒApp æ¥è¿›è¡Œæµ‹è¯•ï¼Œé•¿æŒ‰å¡ç‰‡å¹¶ä»»æ„æ‹–æ›³ï¼Œå¦‚å›¾20.13 æ‰€ç¤ºã€‚

![%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-13.png](%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-13.png)

å›¾ 20.13. æ‹–æ›³å¡ç‰‡

ç°åœ¨ï¼Œä½ åº”è¯¥å¯ä»¥æ‹–æ›³å¡ç‰‡ï¼Œä¸è¿‡å¡ç‰‡çš„ z-index å¹¶æ²¡æœ‰ç›¸åº”åšä¿®æ”¹ï¼Œä¾‹å¦‚ï¼šå¦‚æœä½ æ‹–æ›³Visa å¡ï¼Œå®ƒæ€»æ˜¯åœç•™åœ¨å¡ç‰‡åº“çš„æœ€ä¸Šå±‚ï¼Œæˆ‘ä»¬é€šè¿‡ä¿®æ”¹ `zIndex(for:)` å‡½æ•°æ¥ä¿®æ­£å®ƒï¼š

```
private func zIndex(for card: Card) -> Double {
    guard let cardIndex = index(for: card) else {
        return 0.0
    }

    // å¡ç‰‡çš„é»˜è®¤ z-index è®¾å®šä¸ºå¡ç‰‡ç´¢å¼•å€¼çš„è´Ÿå€¼ï¼Œ
    // å› æ­¤ç¬¬ä¸€å¼ å¡ç‰‡å…·æœ‰æœ€å¤§çš„ z-index
    let defaultZIndex = -Double(cardIndex)

    // å¦‚æœå®ƒæ˜¯æ‹–æ›³çš„å¡ç‰‡
    if let draggingIndex = dragState.index,
        cardIndex == draggingIndex {
        // æˆ‘ä»¬æ ¹æ®ä½ç§»çš„é«˜åº¦æ¥è®¡ç®—æ–°çš„ z-index
        return defaultZIndex + Double(dragState.translation.height/Self.cardOffset)
    }

    // å¦åˆ™æˆ‘ä»¬å›ä¼ é»˜è®¤çš„ z-index
    return defaultZIndex
}

```

é»˜è®¤çš„ z-index ä»è®¾å®šä¸ºå¡ç‰‡ç´¢å¼•å€¼çš„è´Ÿå€¼ã€‚å¯¹äºæ‹–æ›³çš„å¡ç‰‡ï¼Œå½“ä½¿ç”¨è€…åœ¨å¡ç‰‡åº“ä¸Šæ‹–æ›³æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—ä¸€ä¸ªæ–°çš„ z-indexã€‚ä¿®æ”¹åçš„ z-index æ˜¯æ ¹æ®ä½ç§»çš„é«˜åº¦ä¸å¡ç‰‡çš„é»˜è®¤åç§»é‡ï¼ˆå³ 50 ç‚¹ï¼‰æ¥è®¡ç®—ã€‚

è¿è¡Œ App å¹¶å°è¯•å†æ¬¡æ‹–æ›³ Visa å¡ç‰‡ã€‚ç°åœ¨ï¼Œå½“ä½ æ‹–æ›³å¡ç‰‡æ—¶ï¼Œz-index ä¼šä¸æ–­ä¿®æ”¹ã€‚

![%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-14.png](%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-14.png)

å›¾ 20.14. å°† Visa å¡ç§»åˆ°åé¢

### ä¿®æ”¹å¡ç‰‡åº“

å½“ä½ æ”¾å¼€å¡ç‰‡æ—¶ï¼Œå®ƒç°åœ¨ä¼šå›åˆ°åŸæ¥çš„ä½ç½®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åœ¨æ‹–æ›³ä¹‹åé‡æ–°æ’åºå¡ç‰‡çš„ä½ç½®å‘¢ï¼Ÿ

è¿™é‡Œçš„æŠ€å·§æ˜¯ä¿®æ”¹ `cards`æ•°ç»„çš„é¡¹ç›®ï¼Œä»¥è§¦å‘ UI ä¿®æ”¹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å°† `cards` å˜é‡æ ‡è®°ä¸ºçŠ¶æ€å˜é‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
@State var cards: [Card] = testCards

```

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å»ºç«‹å¦ä¸€ä¸ªæ–°å‡½æ•°æ¥é‡æ–°æ’åˆ—å¡ç‰‡ï¼š

```
private func rearrangeCards(with card: Card, dragOffset: CGSize) {
    guard let draggingCardIndex = index(for: card) else {
        return
    }

    var newIndex = draggingCardIndex + Int(-dragOffset.height / Self.cardOffset)
    newIndex = newIndex >= cards.count ? cards.count - 1 : newIndex
    newIndex = newIndex < 0 ? 0 : newIndex

    let removedCard = cards.remove(at: draggingCardIndex)
    cards.insert(removedCard, at: newIndex)

}

```

å½“ä½ å°†å¡ç‰‡æ‹–æ›³åˆ°ç›¸é‚»çš„å¡ç‰‡ä¸Šæ—¶ï¼Œä¸€æ—¦æ‹–æ›³çš„ä½ç§»é‡å¤§äºé»˜è®¤çš„åç§»é‡ï¼Œæˆ‘ä»¬ä¾¿éœ€è¦ä¿®æ”¹ z-indexã€‚å›¾ 20.15 æ˜¾ç¤ºäº†æ‹–æ›³çš„é¢„æœŸè¡Œä¸ºã€‚

![%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-15.png](%E5%BB%BA%E7%AB%8B%E5%83%8F%20Apple%20Wallet%20App%20%E7%9A%84%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C%20%E7%B2%BE%E9%80%9A%20SwiftUI%20-%20iOS%2016%20%200d21980fbbf948a191c3847139a3633a/swiftui-wallet-15.png)

å›¾ 20.15. åœ¨ç›¸é‚»å¡ç‰‡ä¹‹é—´æ‹–æ›³ä¸‡äº‹è¾¾å¡

è¿™æ˜¯æˆ‘ä»¬è®¡ç®—ä¿®æ”¹åçš„ z-index çš„å…¬å¼ï¼š

```
var newIndex = draggingCardIndex + Int(-dragOffset.height / Self.cardOffset)

```

ä¸€æ—¦æˆ‘ä»¬æœ‰äº†ä¿®æ”¹åçš„ç´¢å¼•å€¼ï¼Œæœ€åä¸€æ­¥å°±æ˜¯é€šè¿‡ç§»é™¤æ‹–æ›³çš„å¡ç‰‡ï¼Œå¹¶å°†å…¶æ’å…¥æ–°ä½ç½®ï¼Œä»¥ä¿®æ”¹åœ¨ `cards` æ•°ç»„ä¸­çš„é¡¹ç›®ã€‚ç”±äº `cards` æ•°ç»„ç°åœ¨æ˜¯ä¸€ä¸ªçŠ¶æ€å˜é‡ï¼Œå› æ­¤ SwiftUI ä¿®æ”¹å¡ç‰‡åº“ä¸”è‡ªåŠ¨æ¸²æŸ“åŠ¨ç”»ã€‚

æœ€åï¼Œåœ¨â€œ// é‡æ–°æ’åˆ—å¡ç‰‡â€çš„ä¸‹é¢æ’å…¥ä¸‹åˆ—è¿™è¡Œä»£ç æ¥è°ƒç”¨å‡½æ•°ï¼š

```
withAnimation(.spring()) {
    self.rearrangeCards(with: card, dragOffset: drag.translation)
}

```

ä¹‹åï¼Œä½ å¯ä»¥è¿è¡Œ App æ¥æµ‹è¯•å®ƒã€‚ä½ å·²ç»å»ºç«‹äº†å¦‚ç”µå­é’±åŒ…èˆ¬çš„åŠ¨ç”»ã€‚

### æœ¬ç« å°ç»“

é˜…è¯»å®Œæœ¬ç« åï¼Œæˆ‘å¸Œæœ›ä½ å¯¹äº SwiftUI åŠ¨ç”»ä¸è§†å›¾è½¬åœºæœ‰æ›´æ·±å…¥çš„äº†è§£ã€‚å¦‚æœä½ å°† SwiftUI ä¸åŸæ¥çš„UIKit æ¡†æ¶è¿›è¡Œæ¯”è¾ƒï¼Œä½ ä¼šå‘ç° SwiftUI è®©â€œä½¿ç”¨åŠ¨ç”»â€å˜å¾—éå¸¸å®¹æ˜“ã€‚ä½ è¿˜è®°å¾—å¦‚ä½•ä¸ºä½¿ç”¨è€…æ”¾å¼€æ‹–æ›³çš„å¡ç‰‡æ¥æ¸²æŸ“å¡ç‰‡åŠ¨ç”»å—ï¼Ÿä½ éœ€è¦åšçš„æ˜¯ä¿®æ”¹çŠ¶æ€å˜é‡ï¼Œ è€Œ SwiftUI å°±ä¼šå¤„ç†è¿™äº›ç¹é‡çš„å·¥ä½œï¼Œè¿™å°±æ˜¯ SwiftUI çš„åŠ›é‡ã€‚

ä¸ºäº†æ–¹ä¾¿è¿›ä¸€æ­¥å‚è€ƒï¼Œæ‚¨å¯ä»¥è‡³ä¸‹åˆ—ç½‘å€ä¸‹è½½å®Œæ•´é¡¹ç›®ï¼š

- ç¤ºä¾‹é¡¹ç›® ([https://www.appcoda.com/resources/swiftui4/SwiftUIWallet.zip](https://www.appcoda.com/resources/swiftui4/SwiftUIWallet.zip))