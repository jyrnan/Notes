# UIKité¡µé¢å¸ƒå±€çº¦æŸ

# æœ€å…³é”®ï¼š

å…¶å®æ··ç”¨ä¹Ÿæ²¡å…³ç³»ï¼Œæœ€å…³é”®æ˜¯ä½ æƒ³è¦æ§åˆ¶çš„æ˜¯å“ªä¸ªå› ç´ ï¼Œå°±éœ€è¦é‡‡ç”¨ç›¸åº”çº¦æŸå»æ§åˆ¶è¯¥å› ç´ ã€‚

- å›ºå®šæ•°å€¼å°±ç”¨å…·ä½“å°ºå¯¸çº¦æŸ
- ç›¸å¯¹æ•°å€¼å°±ç”¨å…³ç³»å°ºå¯¸çº¦æŸ
- åŒä¸€ä¸ªViewå°½é‡ç”¨åŒä¸€ç§æ–¹å¼æ¥çº¦æŸï¼Œé¿å…CGrectå’Œconstrainæ··ç”¨ã€‚

# ç¥å¥‡çš„****translatesAutoresizingMaskIntoConstraints****

ä¸€ç›´éƒ½è¢«è¿™ä¸ªå›°æ‰°ï¼Œç»ˆäºå¤§è‡´æ˜ç™½ ğŸ˜‚

### é¦–å…ˆViewçš„å¸ƒå±€å¯ä»¥ç†è§£æˆä¸¤ç§ï¼ˆå¯èƒ½ä¸æ˜¯å¾ˆç¡®åˆ‡ï¼‰ï¼š

- Autoresizeï¼šé‡‡ç”¨frameï¼Œboundsï¼Œæˆ–è€…originç­‰å±æ€§æ¥å†³å®šviewçš„å¤§å°ä½ç½®ã€‚æ˜¯ä¸€ç§ç»å¯¹æ¨¡å¼ã€‚ä¸€èˆ¬ç”¨æ¥å­è§†å›¾å’Œçˆ¶è§†å›¾çš„å…³ç³»ã€‚
- Autolayoutï¼šé‡‡ç”¨çº¦æŸæ¥è®¡ç®—è‡ªåŠ¨ç”Ÿæˆçš„æ¨¡å¼ï¼Œæ˜¯ä¸€ç§ç›¸å¯¹æ¨¡å¼

### ****translatesAutoresizingMaskIntoConstraints****ä½œç”¨

> â€œåœ¨Appleå¼•å…¥è‡ªåŠ¨å¸ƒå±€ç³»ç»Ÿä¹‹å‰ï¼ŒiOSåº”ç”¨ä¸€ç›´ä½¿ç”¨è‡ªåŠ¨ç¼©æ”¾æ©ç ç®¡ç†è§†å›¾å¸ƒå±€ï¼Œè§†å›¾åªå…·æœ‰ç›¸å¯¹äºçˆ¶è§†å›¾çš„è‡ªåŠ¨ç¼©æ”¾æ©ç ï¼Œæ— æ³•è®¾ç½®ä¸å…„å¼Ÿè§†å›¾ä¹‹é—´çš„å¸ƒå±€å…³ç³»ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè§†å›¾ä¼šå°†è‡ªåŠ¨ç¼©æ”¾æ©ç è½¬æ¢ä¸ºå¯¹åº”çš„çº¦æŸï¼Œè¿™ç±»çº¦æŸç»å¸¸ä¼šä¸æ‰‹åŠ¨æ·»åŠ çš„çº¦æŸäº§ç”Ÿå†²çªï¼Œä¸‹é¢å°±æ¼”ç¤ºè¿™ç±»å†²çªã€‚â€
iOSç¼–ç¨‹ï¼ˆç¬¬4ç‰ˆï¼‰([elib.cc](http://elib.cc/))
[ç¾] Christian Keur[ç¾] Aaron Hillegass[ç¾] Joe Conway [elib.cc](http://elib.cc/)[https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewBook?id=0](https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewBook?id=0)
> 

å®ƒæ˜¯UIViewçš„ä¸€ä¸ªå®ä¾‹å±æ€§ï¼ˆInstance Propertyï¼‰ï¼Œä½œç”¨æ˜¯å†³å®šäº†æ˜¯å¦å°†è¿™ä¸ªUIViewçš„è‡ªåŠ¨Autoresizeæ–¹å¼è½¬åŒ–æˆé™æ€è‡ªåŠ¨çº¦æŸã€‚è¯¦ç»†è§£é‡Šå°±æ˜¯ï¼š

- å¦‚æœæ˜¯YESï¼Œåˆ™ä¼šå°†åŸå§‹å›¾é€šè¿‡frameï¼Œboundsï¼Œæˆ–è€…originç­‰å±æ€§æ¥å†³å®šviewçš„å¤§å°ä½ç½®çš„å±æ€§è½¬æ¢æˆä¸€äº›çº¦æŸã€‚ä¸€æ—¦è½¬æ¢äº†ï¼Œåœ¨ä¸Šè¿°æƒ…å†µä¸­ï¼Œä½ æ˜¯`ä¸èƒ½ç»™è§†å›¾æ·»åŠ é¢å¤–çš„çº¦æŸ`æ¥ä¿®æ”¹å®ƒçš„ä½ç½®æˆ–å¤§å°çš„ï¼Œå¦‚æœæ·»åŠ é¢å¤–çš„çº¦æŸä¼šå¯¼è‡´çº¦æŸå†²çªã€‚

```swift
let exampleView = UIView(frame: CGRect(x: 100, y: 100, width: 100, height: 100))
// ç³»ç»Ÿæ ¹æ®ä½ æŒ‡å®šçš„frame ç»™ exampleView åˆ›å»ºé™æ€çš„ Auto Layout çº¦æŸ
exampleView.backgroundColor = UIColor.green
view.addSubview(exampleView)
```

- å¦‚æœæ˜¯NOï¼Œåˆ™æ˜¯ä¸è½¬æ¢è‡ªåŠ¨çº¦æŸï¼Œç›¸å½“äºåŸæ¥è®¾ç½®çš„frameç­‰å±æ€§ä¸èµ·ä½œç”¨ï¼Œè¿™æ ·å¯ä»¥é€šè¿‡ä¸€äº›å¿…è¦ä¸”è¶³å¤Ÿçš„çº¦æŸæ¥æ ¹æ®superViewçš„æ”¹å˜äº†è¿›è¡Œè‡ªåŠ¨è°ƒæ•´ã€‚è¿™æ˜¯ä¸€ç§é‡‡ç”¨ç›¸å¯¹å€¼çš„æ–¹å¼ã€‚

<aside>
ğŸ’¡ **å¦‚æœæ˜¯é‡‡ç”¨ä»£ç åˆ›å»ºçš„Viewï¼Œè¿™ä¸ªå±æ€§é»˜è®¤æ˜¯YESï¼Œå¦‚æœæ˜¯é‡‡ç”¨Interface Builderåˆ›å»ºçš„Viewï¼Œåˆ™é»˜è®¤å±æ€§æ˜¯NO**

</aside>

### æ€»ç»“

- ä»£ç åˆ›å»ºè§†å›¾æ—¶ï¼Œè§†å›¾çš„ translatesAutoresizingMaskIntoConstraints å±æ€§å€¼é»˜è®¤ä¸º true
- Interface Builder ä¸­åˆ›å»ºè§†å›¾æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†è§†å›¾çš„translatesAutoresizing-MaskIntoConstraints å±æ€§å€¼è®¾ä¸º false
- ä»£ç åˆ›å»ºçš„è§†å›¾ï¼Œä¸”ä½¿ç”¨ frame è¿›è¡Œå¸ƒå±€æ—¶ï¼Œ**ä¸èƒ½æ·»åŠ é¢å¤–çš„çº¦æŸï¼Œä¼šå¯¼è‡´çº¦æŸå†²çª**
- ä»£ç åˆ›å»ºçš„è§†å›¾ï¼Œä¸”ä½¿ç”¨ Auto Layout è¿›è¡Œå¸ƒå±€æ—¶ï¼Œéœ€å°†å±æ€§å€¼è®¾ä¸º falseï¼Œè¿™æ—¶å€™åº”è¯¥ä¸èƒ½å†ç”¨frameæ¥å¸ƒå±€äº†ã€‚

# Autolayoutè§¦å‘æ—¶æœº

1. `UIViewController`çš„ç”Ÿå‘½å‘¨æœŸï¼Œä»¥ä¸‹æ–¹æ³•å‡å¯ä»¥åœ¨ViewControllerä¸­é‡å†™ï¼š
    
    [https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/7/10/173386d2c3cad396~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.image](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/7/10/173386d2c3cad396~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.image)
    
2. `layoutSubviews()`è°ƒç”¨æ—¶æœºï¼š
- initåˆå§‹åŒ–ä¸ä¼šè§¦å‘`layoutSubviews`ã€‚ä½†æ˜¯æ˜¯ç”¨`initWithFrame`Â è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œå½“rectçš„å€¼ä¸ä¸º`CGRectZero`æ—¶,ä¹Ÿä¼šè§¦å‘
- `addSubview`ä¼šè§¦å‘`layoutSubviews`
- è®¾ç½®UIViewçš„Frameä¼šè§¦å‘`layoutSubviews`ï¼Œæ›´ä¸¥è°¨åœ°è¯´ï¼Œframe.sizeå€¼å‘ç”Ÿå˜åŒ–æ‰ä¼šè§¦å‘`layoutSubviews`
- æ”¹å˜ä¸€ä¸ªUIView.frame.sizeçš„æ—¶å€™ä¹Ÿä¼šè§¦å‘çˆ¶UIViewä¸Šçš„`layoutSubviews`äº‹ä»¶
- view1çš„ä½ç½®ç§»åŠ¨ï¼Œè‹¥æ ¹æ®çº¦æŸview2çš„ä½ç½®ä¾èµ–äºview1ï¼Œæ­¤æ—¶ä¼šè§¦å‘ä¸¤è€…**æœ€è¿‘å…¬å…±çˆ¶è§†å›¾**superViewçš„`layoutSubviews`æ–¹æ³•ä½¿çº¦æŸç”Ÿæ•ˆï¼Œå› ä¸ºæœ¬è´¨ä¸Šè¿™ä¸€çº¦æŸå¯¹åº”çš„NSLayoutConstraintæ˜¯è¢«addåœ¨superViewä¸Š
- æ»šåŠ¨ä¸€ä¸ª`UIScrollView`ä¼šè§¦å‘`layoutSubviews`
- æ—‹è½¬Screenä¼šè§¦å‘çˆ¶UIViewä¸Šçš„`layoutSubviews`äº‹ä»¶

# **ä½¿ç”¨Â `Layout Anchors`Â åˆ›å»ºçº¦æŸ**

å¸ƒå±€é”šç‚¹ä½¿åˆ›å»ºçº¦æŸæ›´åŠ å®¹æ˜“ã€‚ ä»æ–‡æ¡£ä¸­ï¼š

> NSLayoutAnchorÂ ç±»æ˜¯ç”¨äºä½¿ç”¨æµç•…çš„Â APIÂ åˆ›å»ºÂ NSLayoutConstraintÂ å¯¹è±¡çš„å·¥å‚ç±»ã€‚ ä½¿ç”¨è¿™äº›çº¦æŸå¯ä»¥ä½¿ç”¨â€œè‡ªåŠ¨å¸ƒå±€â€ä»¥ç¼–ç¨‹æ–¹å¼å®šä¹‰ä½ çš„å¸ƒå±€ã€‚
> 

å¸ƒå±€é”šç‚¹æ˜¯Â `UIView`ï¼ˆæˆ–`UILayoutGuide`Â ï¼‰ä¸Šçš„å±æ€§ã€‚ æ¯ä¸ªå±æ€§éƒ½æ˜¯Â `NSLayoutAnchor`Â çš„å­ç±»ï¼Œå…¶æ–¹æ³•å¯ç›´æ¥ä¸ºå…¶ä»–ç›¸åŒç±»å‹çš„å¸ƒå±€é”šåˆ›å»ºçº¦æŸã€‚Â `UIView`Â å…·æœ‰åäºŒç§ä¸åŒçš„å¸ƒå±€é”šç‚¹å±æ€§ï¼Œå¯ç”¨äºåˆ›å»ºæ°´å¹³ï¼Œå‚ç›´æˆ–åŸºäºå¤§å°çš„çº¦æŸï¼š

## ***æ°´å¹³çº¦æŸ***

ç”¨äºåˆ›å»ºæ°´å¹³çº¦æŸçš„Â Â `NSLayoutXAxisAnchor`Â ç±»å‹çš„å¸ƒå±€é”šç‚¹ï¼š

- `centerXAnchor`
- `leadingAnchor`Â å’ŒÂ `trailingAnchor`
- `leftAnchor`Â å’ŒÂ `rightAnchor`

**ä¾‹å¦‚ï¼Œåˆ›å»ºçº¦æŸä»¥ä½¿ä¸¤ä¸ªè§†å›¾å±…ä¸­å¯¹é½ï¼š**

```swift
// Swift
myView.centerXAnchor.constraint(equalTo: view.centerXAnchor).isActive = true
```

```objectivec
// Objective-C
[self.myView.centerXAnchor constraintEqualToAnchor:self.view.centerXAnchor].active = YES;
```

***è¯·æ³¨æ„å¦‚ä½•ä»ä¸€ä¸ªè§†å›¾ä¸Šçš„é”šç‚¹å¼€å§‹å¹¶ä¸ºå¦ä¸€ä¸ªè§†å›¾ä¸Šçš„é”šç‚¹åˆ›å»ºçº¦æŸã€‚***

## ***å‚ç›´çº¦æŸ***

ç”¨äºåˆ›å»ºå‚ç›´çº¦æŸçš„Â `NSLayoutYAxisAnchor`Â ç±»å‹çš„å¸ƒå±€é”šç‚¹ï¼š

- `centerYAnchor`
- `bottomAnchor`Â å’ŒÂ `topAnchor`
- `firstBaselineAnchor`Â å’ŒÂ `lastBaselineAnchor`

ä¾‹å¦‚ï¼Œè¦åœ¨é—´è·æ’å®šçš„ä¸¤ä¸ªè§†å›¾çš„é¡¶éƒ¨å’Œåº•éƒ¨é”šç‚¹ä¹‹é—´åˆ›å»ºçº¦æŸï¼š

```swift
// Swift
myView.bottomAnchor.constraint(equalTo: view.topAnchor,
       constant: 8).isActive=true
```

```objectivec
// Objective-C
[self.myView.bottomAnchor constraintEqualToAnchor:self.view.topAnchor
      constant:8.0].active = YES;
```

## ***åŸºäº Size çš„çº¦æŸ***

`NSLayoutDimension`Â ç±»å‹çš„å¸ƒå±€é”šï¼Œç”¨äºåˆ›å»ºåŸºäºÂ `Size`Â çš„çº¦æŸï¼š

- `heightAnchor`Â å’ŒÂ `widthAnchor`

ä¾‹å¦‚ï¼Œä¸ºè§†å›¾åˆ›å»ºå®½åº¦çº¦æŸï¼š

```
// Swift
myView.widthAnchor.constraint(equalToConstant: 50.0).isActive = true
```

```
// Objective-C
[self.myView.widthAnchor constraintEqualToConstant:50.0].active = YES;
```

å¦ä¸€ä¸ªç¤ºä¾‹ï¼Œä½¿ç”¨Â `multiplier`Â ä½¿ä¸€ä¸ªè§†å›¾çš„é«˜åº¦æ˜¯å¦ä¸€ä¸ªè§†å›¾çš„é«˜åº¦çš„ä¸¤å€ï¼š

```
// Swift
myView.heightAnchor.constraint(equalTo: otherView.heightAnchor,
       multiplier: 2.0).isActive = true
```

```
// Objective-C
[self.myView.heightAnchor constraintEqualToAnchor:self.otherView.heightAnchor
      multiplier:2.0].active = YES;
```

## ***è§†å›¾è¾¹è·***

`UIView`Â æ²¡æœ‰ç”¨äºåˆ›å»ºå †æ ˆè§†å›¾çº¦æŸæ—¶ä½¿ç”¨çš„å‰ï¼Œåè¾¹è·çš„å¸ƒå±€é”šã€‚ ç›¸åï¼Œ`iOS 9`Â æ·»åŠ äº†ä¸¤ä¸ªæ–°å±æ€§ï¼ŒÂ `layoutMarginGuide`Â å’Œå¯è¯»Â `readableContentGuide`Â ï¼Œå®ƒä»¬åˆå…·æœ‰å¸ƒå±€é”šç‚¹ã€‚

ä¾‹å¦‚ï¼Œè¦å°†å­è§†å›¾çš„å‰æ²¿çº¦æŸåˆ°çˆ¶è§†å›¾çš„å‰é¢ï¼š

```
// Swift
let margins = view.layoutMarginsGuide
myView.leadingAnchor.constraint(equalTo: margins.leadingAnchor).isActive = true
```

```objectivec
// Objective-C
UILayoutGuide *margins = self.view.layoutMarginsGuide;
[self.myView.leadingAnchor constraintEqualToAnchor:
      margins.leadingAnchor].active = YES;
```

## ***é¡¶éƒ¨å’Œåº•éƒ¨å¸ƒå±€***

> æç¤º:Â Â Â Â Â Â Â Â Â é¡¶éƒ¨å’Œåº•éƒ¨å¸ƒå±€æŒ‡å—å·²ç”±Â iOS 11Â ä¸­çš„Â â€œSafe Area Layout Guide â€Â ä»£æ›¿ã€‚
> 

å½“ä½ è¦ç›¸å¯¹äºé¡¶éƒ¨æˆ–åº•éƒ¨Â `UIKit`Â å·¥å…·æ å®šä½å†…å®¹æ—¶ï¼Œè§†å›¾æ§åˆ¶å™¨å…·æœ‰Â `topLayoutGuide`Â å’ŒÂ `bottomLayoutGuide`Â å±æ€§ã€‚ ä»Â `iOS 9`Â å¼€å§‹ï¼Œè¿™ä¸¤ä¸ªå±æ€§å‡ç¬¦åˆÂ `UILayoutSupport`Â åè®®ï¼Œè¯¥åè®®ä¸ºÂ `bar`Â æä¾›äº†Â `bottomAnchor`Â ï¼ŒÂ `topAnchor`Â å’ŒÂ `heightAnchor`Â å±æ€§ã€‚

ä¾‹å¦‚ï¼Œè¦å°†è§†å›¾æ”¾ç½®åœ¨é¡¶éƒ¨å¸ƒå±€æŒ‡å—åº•éƒ¨ä¸‹æ–¹8ä¸ªç‚¹å¤„ï¼š

```
// Swift
    myView.topAnchor.constraint(equalTo: topLayoutGuide.bottomAnchor,
       constant: 8.0).isActive = true
```

```
// Objective-C
    [self.stackView.topAnchor constraintEqualToAnchor:self.topLayoutGuide.bottomAnchor
       constant:8.0].active = YES;
```

## ***æ§ä»¶ç»„åˆå¸ƒå±€***

**é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨å¸ƒå±€é”šåˆ›å»ºå †æ ˆè§†å›¾çº¦æŸï¼Ÿ**

é¦–å…ˆï¼Œæˆ‘ä»¬è·å¾—çˆ¶è§†å›¾çš„Â `leading`Â å’ŒÂ `trailing`Â è¾¹è·ï¼š

```
let margins = view.layoutMarginsGuide
```

ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºÂ `leading`Â å’ŒÂ `trailing`Â æ°´å¹³çº¦æŸï¼š

```swift
stackView.leadingAnchor.constraint(equalTo: margins.leadingAnchor).isActive = true
stackView.trailingAnchor.constraint(equalTo: margins.trailingAnchor).isActive = true
```

æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨è§†å›¾æ§åˆ¶å™¨çš„Â `topLayoutGuide`Â å±æ€§å°†å †æ ˆè§†å›¾å›ºå®šåœ¨å¯¼èˆªæ ä¸‹æ–¹çš„8ç‚¹å¤„ï¼š

```swift
stackView.topAnchor.constraint(equalTo: topLayoutGuide.bottomAnchor,
          constant: 8.0).isActive = true

```

`Objective-C`Â ç‰ˆæœ¬ç¨å¾®å†—é•¿ä¸€äº›ï¼Œä½†ä»æœ‰å¾ˆå¤§æ”¹è¿›ï¼š

```objectivec
UILayoutGuide *margins = self.view.layoutMarginsGuide;

[self.stackView.leadingAnchor
      constraintEqualToAnchor:margins.leadingAnchor].active = YES;
[self.stackView.trailingAnchor
      constraintEqualToAnchor:margins.trailingAnchor].active = YES;

[self.stackView.topAnchor
      constraintEqualToAnchor:self.topLayoutGuide.bottomAnchor
      constant:8.0].active = YES;

```

ä¸ä»¥å‰çš„ä»£ç ç›¸æ¯”ï¼Œæˆ‘å‘ç°æ›´å®¹æ˜“ç†è§£è¿™äº›çº¦æŸçš„æ„å›¾ã€‚

# OCåˆ›å»ºçº¦æŸ

Excerpt From
iOSç¼–ç¨‹ï¼ˆç¬¬4ç‰ˆï¼‰([elib.cc](http://elib.cc/))
[ç¾] Christian Keur[ç¾] Aaron Hillegass[ç¾] Joe Conway [elib.cc](http://elib.cc/)[https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewBook?id=0](https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewBook?id=0)

## åˆ©ç”¨ConstraintNSLayoutConstraintçš„å·¥å‚æ–¹æ³•åˆ›å»ºçº¦æŸ

```objectivec
â€œ+ ï¼ˆidï¼‰constraintWithItem:ï¼ˆidï¼‰view1
ã€€ã€€attribute:ï¼ˆNSLayoutAttributeï¼‰attr1
ã€€ã€€relatedBy:ï¼ˆNSLayoutRelationï¼‰relation
ã€€ã€€toItem:ï¼ˆidï¼‰view2
ã€€ã€€attribute:ï¼ˆNSLayoutAttributeï¼‰attr2
ã€€ã€€multiplier:ï¼ˆCGFloatï¼‰multiplier
ã€€ã€€constant:ï¼ˆCGFloatï¼‰câ€
```

ä¸ºäº†ç†è§£è¯¥æ–¹æ³•æ‰€æè¿°çš„çº¦æŸï¼Œå›¾16-4æ˜¯è¯¥æ–¹æ³•ä¸­å„ä¸ªå‚æ•°çš„è®¡ç®—è¡¨è¾¾å¼ï¼Œè‡ªåŠ¨å¸ƒå±€ç³»ç»Ÿä¼šæ ¹æ®è¯¥è¡¨è¾¾å¼ä¸ºç¬¬ä¸€ä¸ªå‚æ•°æ‰€è¡¨ç¤ºçš„è§†å›¾è®¡ç®—å¸ƒå±€å±æ€§çš„å€¼ï¼Œå†åˆ›å»ºç›¸åº”çš„NSLayoutConstraintå¯¹è±¡ã€‚

![ NSLayoutConstraintè¡¨è¾¾å¼](UIKit%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80%E7%BA%A6%E6%9D%9F%20c07f5a709dce48599ac12413b801c67d/Untitled.png)

 NSLayoutConstraintè¡¨è¾¾å¼

ç”±äºè¯¥æ–¹æ³•åªåˆ›å»ºäº†ä¸€ä¸ªçº¦æŸï¼Œå› æ­¤éœ€è¦ä½¿ç”¨UIViewæ·»åŠ å•ä¸ªçº¦æŸçš„å®ä¾‹æ–¹æ³•ï¼š
ã€€ã€€`- ï¼ˆvoidï¼‰addConstraint:ï¼ˆNSLayoutConstraint *ï¼‰constraint`
ã€€ã€€ä¹‹å‰ä»‹ç»è¿‡åˆ¤æ–­çº¦æŸåº”è¯¥æ·»åŠ åˆ°å“ªä¸ªè§†å›¾ä¸­çš„å››æ¡åˆ¤å®šæ³•åˆ™ï¼Œè€Œè¯¥æ–¹æ³•ç¬¦åˆç¬¬äºŒæ¡æ³•åˆ™ã€‚è¯¥æ–¹æ³•åˆ›å»ºçš„çº¦æŸåªå¯¹ç¬¬ä¸€ä¸ªå‚æ•°æ‰€è¡¨ç¤ºçš„è§†å›¾ï¼ˆè¿™é‡Œæ˜¯imageViewï¼‰èµ·ä½œç”¨ï¼Œå› æ­¤çº¦æŸåº”è¯¥æ·»åŠ åˆ°è¯¥è§†å›¾ä¸­ã€‚å¯¹äºaspectConstraintï¼Œåº”è¯¥å°†å…¶æ·»åŠ åˆ°imageViewä¸­ï¼š
ã€€ã€€`[self.imageView addConstraint:aspectConstraint];`

## æ·»åŠ çº¦æŸçš„åŸåˆ™

ç°åœ¨ä»£ç ä¸­å·²ç»åˆ›å»ºäº†ä¸¤ä¸ªNSLayoutConstraintå¯¹è±¡æ•°ç»„ï¼Œä¸‹é¢éœ€è¦å°†å®ƒä»¬æ·»åŠ åˆ°æŸä¸ªè§†å›¾ä¸­ã€‚UIViewæœ‰ä¸€ä¸ªå¯ä»¥åŒæ—¶æ·»åŠ å¤šä¸ªçº¦æŸçš„å®ä¾‹æ–¹æ³•ï¼š
ã€€ã€€- ï¼ˆvoidï¼‰addConstraints:ï¼ˆNSArray *ï¼‰constraints
ã€€ã€€é‚£ä¹ˆï¼Œå¦‚ä½•åˆ¤æ–­çº¦æŸåº”è¯¥æ·»åŠ åˆ°å“ªä¸ªè§†å›¾ä¸­å‘¢ï¼Ÿä»¥ä¸‹æ˜¯åˆ¤å®šæ³•åˆ™ï¼š

- å¦‚æœçº¦æŸåŒæ—¶å¯¹å¤šä¸ªçˆ¶è§†å›¾ç›¸åŒçš„è§†å›¾èµ·ä½œç”¨ï¼ˆä¾‹å¦‚å›¾16-1ä¸­çš„çº¦æŸâ€œAâ€ï¼‰ï¼Œé‚£ä¹ˆçº¦æŸåº”è¯¥æ·»åŠ åˆ°å®ƒä»¬çš„çˆ¶è§†å›¾ä¸­ã€‚
- å¦‚æœçº¦æŸåªå¯¹æŸä¸ªè§†å›¾è‡ªèº«èµ·ä½œç”¨ï¼ˆä¾‹å¦‚çº¦æŸâ€œBâ€ï¼‰ï¼Œé‚£ä¹ˆçº¦æŸåº”è¯¥æ·»åŠ åˆ°è¯¥è§†å›¾ä¸­ã€‚
- å¦‚æœçº¦æŸåŒæ—¶å¯¹å¤šä¸ªçˆ¶è§†å›¾ä¸åŒçš„è§†å›¾èµ·ä½œç”¨ï¼ˆä¾‹å¦‚å›¾16-1ä¸­çš„çº¦æŸâ€œCâ€ï¼‰ï¼Œä½†æ˜¯è¿™äº›è§†å›¾åœ¨å±‚æ¬¡ç»“æ„ä¸­æœ‰å…±åŒçš„ç¥–å…ˆè§†å›¾ï¼Œé‚£ä¹ˆçº¦æŸåº”è¯¥æ·»åŠ åˆ°å®ƒä»¬æœ€è¿‘ä¸€çº§çš„ç¥–å…ˆè§†å›¾ä¸­ã€‚
- å¦‚æœçº¦æŸåŒæ—¶å¯¹æŸä¸ªè§†å›¾åŠå…¶çˆ¶è§†å›¾èµ·ä½œç”¨ï¼ˆä¾‹å¦‚çº¦æŸâ€œDâ€ï¼‰ï¼Œé‚£ä¹ˆçº¦æŸåº”è¯¥æ·»åŠ åˆ°å…¶çˆ¶è§†å›¾ä¸­

![çº¦æŸæ·»åŠ èŒƒä¾‹](UIKit%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80%E7%BA%A6%E6%9D%9F%20c07f5a709dce48599ac12413b801c67d/Untitled%201.png)

çº¦æŸæ·»åŠ èŒƒä¾‹